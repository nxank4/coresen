@tailwind base;
@tailwind components;
@tailwind utilities;

::selection {
  background-color: #000000;
  color: #ffffff;
}

.dark ::selection {
  background-color: #ffffff;
  color: #000000;
}

:root {
  --sh-class: #525252;
  --sh-identifier: #262626;
  --sh-sign: #737373;
  --sh-string: #404040;
  --sh-keyword: #171717;
  --sh-comment: #a3a3a3;
  --sh-jsxliterals: #525252;
  --sh-property: #404040;
  --sh-entity: #404040;
}

.dark {
  --sh-class: #d4d4d4;
  --sh-identifier: #ffffff;
  --sh-sign: #a3a3a3;
  --sh-string: #e5e5e5;
  --sh-keyword: #fafafa;
  --sh-comment: #737373;
  --sh-jsxliterals: #d4d4d4;
  --sh-property: #e5e5e5;
  --sh-entity: #e5e5e5;
}

html {
  min-width: 360px;
  background-color: #ffffff;
  color: #000000;
}

html.dark {
  background-color: #141414;
  color: #ffffff;
}

body {
  background-color: inherit;
  color: inherit;
  font-family: var(--font-inter), system-ui, sans-serif;
}

h1, h2 {
  font-family: var(--font-playfair), serif;
  font-weight: 700;
  letter-spacing: -0.01em;
}

h3, h4 {
  font-family: var(--font-playfair), serif;
  font-weight: 400;
  letter-spacing: -0.01em;
}

h5, h6 {
  font-family: var(--font-playfair), serif;
  font-weight: 600;
  letter-spacing: -0.01em;
}

code, pre, .prose code, .prose pre {
  font-family: var(--font-jetbrains-mono), monospace;
}

.ant-typography h1,
.ant-typography h2 {
  font-family: var(--font-playfair), serif;
  font-weight: 700;
  letter-spacing: -0.01em;
}

.ant-typography h3,
.ant-typography h4 {
  font-family: var(--font-playfair), serif;
  font-weight: 400;
  letter-spacing: -0.01em;
}

.ant-typography h5,
.ant-typography h6,
.ant-typography-title {
  font-family: var(--font-playfair), serif;
  font-weight: 600;
  letter-spacing: -0.01em;
}

.ant-typography,
.ant-typography p,
.ant-typography span,
.ant-typography div {
  font-family: var(--font-inter), system-ui, sans-serif;
}

.dark .ant-typography {
  color: rgba(255, 255, 255, 0.85) !important;
}

.dark .ant-typography-secondary {
  color: rgba(255, 255, 255, 0.65) !important;
}

.dark .ant-typography-title {
  color: rgba(255, 255, 255, 0.85) !important;
}

.ant-menu,
.ant-menu-item {
  font-family: var(--font-inter), system-ui, sans-serif;
}

.ant-menu-item {
  position: relative !important;
  overflow: visible !important;
}

.ant-menu-title-content {
  position: relative !important;
  display: inline-block !important;
}

.ant-menu-item a,
.ant-menu-item .ant-menu-title-content a,
.nav-link {
  color: inherit !important;
  position: relative !important;
  text-decoration: none !important;
  display: inline-flex !important;
  align-items: center !important;
}

.ant-menu-item a::after,
.ant-menu-item .ant-menu-title-content a::after,
.nav-link::after,
.ant-menu-title-content a::after {
  content: "" !important;
  position: absolute !important;
  bottom: -2px !important;
  left: 50% !important;
  width: 0 !important;
  height: 2px !important;
  background-color: currentColor !important;
  transform: translateX(-50%) !important;
  transition: width 0.25s ease, opacity 0.25s ease !important;
  opacity: 0 !important;
  z-index: 10 !important;
  pointer-events: none !important;
}

.ant-menu-item a:hover::after,
.ant-menu-item .ant-menu-title-content a:hover::after,
.nav-link:hover::after,
.ant-menu-item-active a::after,
.ant-menu-item-selected a::after,
.ant-menu-item-active .ant-menu-title-content a::after,
.ant-menu-item-selected .ant-menu-title-content a::after {
  width: 100% !important;
  opacity: 1 !important;
}

/* Override any Ant Design default underline */
.ant-menu-item::before,
.ant-menu-item::after {
  display: none !important;
}

.ant-menu-item-active::before,
.ant-menu-item-selected::before {
  display: none !important;
}

.ant-menu-light .ant-menu-item-selected,
.ant-menu-light .ant-menu-item-selected .ant-menu-title-content,
.ant-menu-light .ant-menu-item-selected .ant-menu-title-content a,
.ant-menu-light .ant-menu-item-selected a,
.nav-link-active,
a.nav-link-active,
.ant-menu-item-selected.nav-link-active,
.ant-menu-item.ant-menu-item-selected .ant-menu-title-content a.nav-link-active,
.ant-menu-item.ant-menu-item-selected .ant-menu-title-content .nav-link-active,
.ant-menu-title-content .nav-link-active,
li.ant-menu-item.ant-menu-item-selected .ant-menu-title-content .nav-link-active,
.ant-menu-item.ant-menu-item-selected .ant-menu-title-content a,
.ant-menu-item.ant-menu-item-selected .ant-menu-title-content a.ant-menu-item-selected,
li.ant-menu-item.ant-menu-item-selected .ant-menu-title-content a,
li.ant-menu-item.ant-menu-item-selected .ant-menu-title-content a.ant-menu-item-selected {
  color: rgba(0, 0, 0, 0.88) !important;
}

.dark .ant-menu-item,
.dark .ant-menu-item a {
  color: rgba(255, 255, 255, 0.85) !important;
}

.dark .ant-menu-item-active,
.dark .ant-menu-item-selected,
.dark .ant-menu-item-active a,
.dark .ant-menu-item-selected a,
.dark a.ant-menu-item-selected {
  color: rgba(255, 255, 255, 1) !important;
}

.dark .ant-menu-light .ant-menu-item-selected,
.dark .ant-menu-light .ant-menu-item-selected .ant-menu-title-content,
.dark .ant-menu-light .ant-menu-item-selected .ant-menu-title-content a,
.dark .ant-menu-light .ant-menu-item-selected a,
.dark .ant-menu-dark .ant-menu-item-selected,
.dark .ant-menu-dark .ant-menu-item-selected .ant-menu-title-content,
.dark .ant-menu-dark .ant-menu-item-selected .ant-menu-title-content a,
.dark .ant-menu-dark .ant-menu-item-selected a,
.dark .nav-link-active,
.dark a.nav-link-active,
.dark .ant-menu-item-selected.nav-link-active,
.dark .ant-menu-item.ant-menu-item-selected .ant-menu-title-content a.nav-link-active,
.dark .ant-menu-item.ant-menu-item-selected .ant-menu-title-content .nav-link-active,
.dark .ant-menu-title-content .nav-link-active,
.dark li.ant-menu-item.ant-menu-item-selected .ant-menu-title-content .nav-link-active,
.dark .ant-menu-item.ant-menu-item-selected .ant-menu-title-content a,
.dark .ant-menu-item.ant-menu-item-selected .ant-menu-title-content a.ant-menu-item-selected,
.dark li.ant-menu-item.ant-menu-item-selected .ant-menu-title-content a,
.dark li.ant-menu-item.ant-menu-item-selected .ant-menu-title-content a.ant-menu-item-selected {
  color: rgba(255, 255, 255, 1) !important;
}

.ant-card,
.ant-card-body {
  font-family: var(--font-inter), system-ui, sans-serif;
}

.ant-btn,
button {
  font-family: var(--font-inter), system-ui, sans-serif;
  font-weight: 600;
  letter-spacing: 0.01em;
}

.ant-btn-primary {
  background-color: #000000 !important;
  border-color: #000000 !important;
  color: #ffffff !important;
}

.ant-btn-primary:hover:not(:disabled),
.ant-btn-primary:focus:not(:disabled) {
  background-color: rgba(0, 0, 0, 0.8) !important;
  border-color: rgba(0, 0, 0, 0.8) !important;
  color: #ffffff !important;
}

.ant-btn-primary:active:not(:disabled) {
  background-color: rgba(0, 0, 0, 0.7) !important;
  border-color: rgba(0, 0, 0, 0.7) !important;
  color: #ffffff !important;
}

.dark .ant-btn-primary {
  background-color: #ffffff !important;
  border-color: #ffffff !important;
  color: #000000 !important;
}

.dark .ant-btn-primary:hover:not(:disabled),
.dark .ant-btn-primary:focus:not(:disabled) {
  background-color: rgba(255, 255, 255, 0.9) !important;
  border-color: rgba(255, 255, 255, 0.9) !important;
  color: #000000 !important;
}

.dark .ant-btn-primary:active:not(:disabled) {
  background-color: rgba(255, 255, 255, 0.8) !important;
  border-color: rgba(255, 255, 255, 0.8) !important;
  color: #000000 !important;
}

.ant-btn-default {
  background-color: transparent !important;
  border-color: rgba(0, 0, 0, 0.3) !important;
  color: rgba(0, 0, 0, 0.88) !important;
}

.ant-btn-default:hover:not(:disabled),
.ant-btn-default:focus:not(:disabled) {
  background-color: rgba(0, 0, 0, 0.03) !important;
  border-color: rgba(0, 0, 0, 0.5) !important;
  color: rgba(0, 0, 0, 1) !important;
}

.ant-btn-default:active:not(:disabled) {
  background-color: rgba(0, 0, 0, 0.05) !important;
  border-color: rgba(0, 0, 0, 0.5) !important;
  color: rgba(0, 0, 0, 1) !important;
}

.dark .ant-btn-default {
  background-color: transparent !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
  color: rgba(255, 255, 255, 0.85) !important;
}

.dark .ant-btn-default:hover:not(:disabled),
.dark .ant-btn-default:focus:not(:disabled) {
  background-color: rgba(255, 255, 255, 0.05) !important;
  border-color: rgba(255, 255, 255, 0.5) !important;
  color: rgba(255, 255, 255, 1) !important;
}

.dark .ant-btn-default:active:not(:disabled) {
  background-color: rgba(255, 255, 255, 0.08) !important;
  border-color: rgba(255, 255, 255, 0.5) !important;
  color: rgba(255, 255, 255, 1) !important;
}

.ant-btn-link {
  color: rgba(0, 0, 0, 0.6) !important;
  position: relative !important;
  text-decoration: none !important;
}

.ant-btn-link::after {
  content: "" !important;
  position: absolute !important;
  bottom: 2px !important;
  left: 50% !important;
  width: 0 !important;
  height: 1px !important;
  background-color: rgba(0, 0, 0, 0.3) !important;
  transform: translateX(-50%) !important;
  transition: width 0.25s ease, background-color 0.2s ease !important;
}

.ant-btn-link:hover:not(:disabled)::after,
.ant-btn-link:focus:not(:disabled)::after {
  width: 100% !important;
  background-color: rgba(0, 0, 0, 0.6) !important;
}

.ant-btn-link:hover:not(:disabled),
.ant-btn-link:focus:not(:disabled) {
  color: rgba(0, 0, 0, 0.8) !important;
}

.dark .ant-btn-link {
  color: rgba(255, 255, 255, 0.6) !important;
}

.dark .ant-btn-link::after {
  background-color: rgba(255, 255, 255, 0.4) !important;
}

.dark .ant-btn-link:hover:not(:disabled)::after,
.dark .ant-btn-link:focus:not(:disabled)::after {
  background-color: rgba(255, 255, 255, 0.7) !important;
}

.dark .ant-btn-link:hover:not(:disabled),
.dark .ant-btn-link:focus:not(:disabled) {
  color: rgba(255, 255, 255, 0.8) !important;
}

.ant-spin-dot-item {
  background-color: currentColor;
}

.ant-spin {
  color: rgba(0, 0, 0, 0.88);
}

.dark .ant-spin {
  color: rgba(255, 255, 255, 0.85);
}

.ant-card .ant-typography-title {
  font-family: var(--font-playfair), serif;
}

.dark .ant-card.dark\:bg-white,
.dark .ant-card.dark\:\!bg-white {
  background-color: #ffffff !important;
}

.dark .ant-card.dark\:bg-white .ant-typography,
.dark .ant-card.dark\:\!bg-white .ant-typography,
.dark .ant-card.dark\:bg-white .ant-typography-secondary,
.dark .ant-card.dark\:\!bg-white .ant-typography-secondary {
  color: rgba(0, 0, 0, 0.88) !important;
}

/* MDX heading anchors: show # symbol on hover, positioned next to title */
.prose .anchor {
  @apply inline-block no-underline;
  margin-left: 0.5em;
  padding: 0;
  width: auto;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.2s ease, color 0.2s ease;
  text-decoration: none !important;
  @apply text-neutral-400 dark:text-neutral-500;
}

.prose .anchor::after {
  content: "";
}

.prose .anchor::before {
  content: "#";
}

.prose .anchor:hover {
  opacity: 1;
  text-decoration: none !important;
  @apply text-neutral-950 dark:text-neutral-50;
}

.prose *:hover > .anchor {
  opacity: 1;
}

.prose *:hover > .anchor:hover {
  @apply text-neutral-950 dark:text-neutral-50;
}

.prose .anchor:focus {
  opacity: 1;
  text-decoration: none !important;
}

.prose pre {
  @apply bg-neutral-50 dark:bg-neutral-900 rounded-lg overflow-x-auto border border-neutral-200 dark:border-neutral-800;
  margin: 1.5rem 0;
  position: relative;
  padding: 1rem;
}

/* Custom scrollbar for code blocks */
.prose pre::-webkit-scrollbar {
  height: 8px;
}

.prose pre::-webkit-scrollbar-track {
  @apply bg-neutral-100 dark:bg-neutral-800 rounded;
}

.prose pre::-webkit-scrollbar-thumb {
  @apply bg-neutral-300 dark:bg-neutral-600 rounded;
}

.prose pre::-webkit-scrollbar-thumb:hover {
  @apply bg-neutral-400 dark:bg-neutral-500;
}

.prose code {
  @apply px-1.5 py-0.5 rounded text-sm font-mono;
  background-color: rgba(0, 0, 0, 0.05);
  color: inherit;
}

.dark .prose code {
  background-color: rgba(255, 255, 255, 0.1);
}

.prose pre code {
  @apply p-0;
  border: initial;
  line-height: 1.75;
  background-color: transparent;
  font-weight: 400;
  display: block;
  padding: 0;
  color: inherit;
}

.dark .prose pre code {
  background-color: transparent;
}

/* Sugar-high syntax highlighting styles */
.prose pre code {
  color: var(--sh-identifier, inherit);
}

.prose pre code [class*="sh__token"] {
  color: var(--sh-identifier, inherit);
}

.prose pre code [class*="keyword"] {
  color: var(--sh-keyword);
  font-weight: 500;
}

.prose pre code [class*="string"] {
  color: var(--sh-string);
}

.prose pre code [class*="comment"] {
  color: var(--sh-comment);
  font-style: italic;
  opacity: 0.8;
}

.prose pre code [class*="class"] {
  color: var(--sh-class);
}

.prose pre code [class*="property"] {
  color: var(--sh-property);
}

.prose pre code [class*="entity"] {
  color: var(--sh-entity);
}

.prose pre code [class*="sign"] {
  color: var(--sh-sign);
}

.prose pre code [class*="jsxliterals"] {
  color: var(--sh-jsxliterals);
}

.prose pre code [class*="number"] {
  color: var(--sh-string);
}

.prose pre code [class*="function"] {
  color: var(--sh-class);
}

.prose img {
  /* Don't apply styles to next/image */
  @apply m-0;
}

.prose p {
  @apply my-4 text-neutral-800 dark:text-neutral-200;
}

.prose h1 {
  @apply text-4xl font-bold tracking-tight mt-6 mb-2 text-neutral-900 dark:text-neutral-100;
  font-family: var(--font-playfair), serif;
  font-weight: 700;
}

.prose h2 {
  @apply font-semibold tracking-tight mt-6 mb-2 text-neutral-900 dark:text-neutral-100;
  font-size: 30px;
  font-family: var(--font-playfair), serif;
  font-weight: 600;
}

@media (min-width: 768px) {
  .prose h2 {
    font-size: 2.25rem; /* 36px - equivalent to text-4xl */
  }
}

.prose h3 {
  @apply font-semibold tracking-tight mt-6 mb-2 text-neutral-900 dark:text-neutral-100;
  font-size: 25px;
  font-family: var(--font-playfair), serif;
  font-weight: 400;
}

.prose h4 {
  @apply text-lg font-normal tracking-tight mt-6 mb-2 text-neutral-900 dark:text-neutral-100;
  font-family: var(--font-playfair), serif;
  font-weight: 400;
}

.prose a:not(.anchor) {
  @apply text-neutral-600 dark:text-neutral-400;
  position: relative;
  text-decoration: none;
  transition: color 0.2s ease;
}

.prose a:not(.anchor)::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 1px;
  background-color: rgba(0, 0, 0, 0.3);
  transform: translateX(-50%);
  transition: width 0.25s ease, background-color 0.2s ease;
}

.prose a:not(.anchor):hover {
  @apply text-neutral-800 dark:text-neutral-200;
}

.prose a:not(.anchor):hover::after {
  width: 100%;
  background-color: rgba(0, 0, 0, 0.6);
}

.dark .prose a:not(.anchor)::after {
  background-color: rgba(255, 255, 255, 0.4);
}

.dark .prose a:not(.anchor):hover::after {
  background-color: rgba(255, 255, 255, 0.7);
}

/* Reusable animated underline for links */
.link-animated,
.underline-animated {
  position: relative;
  text-decoration: none;
  transition: color 0.2s ease;
}

.link-animated::after,
.underline-animated::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 1px;
  background-color: currentColor;
  transform: translateX(-50%);
  transition: width 0.25s ease, opacity 0.2s ease;
  opacity: 0.5;
}

.link-animated:hover::after,
.underline-animated:hover::after {
  width: 100%;
  opacity: 1;
}

/* Card with offset shadow animation */
.card-shadow-offset {
  border: 2px solid;
  border-color: rgba(0, 0, 0, 0.28);
  /* subtle secondary border (softer than the main border) */
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.12);
  transform: translate3d(0, 0, 0);
  will-change: transform, box-shadow;
  transition: transform 0.35s cubic-bezier(0.2, 0.9, 0.2, 1),
    box-shadow 0.35s cubic-bezier(0.2, 0.9, 0.2, 1);
}

.card-shadow-offset:hover {
  transform: translate3d(-2px, -2px, 0);
  box-shadow: 4px 4px 0 1px rgba(0, 0, 0, 0.26),
    inset 0 0 0 1px rgba(0, 0, 0, 0.12);
}

.dark .card-shadow-offset {
  border-color: rgba(255, 255, 255, 0.32);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.14);
}

.dark .card-shadow-offset:hover {
  box-shadow: 4px 4px 0 1px rgba(255, 255, 255, 0.34),
    inset 0 0 0 1px rgba(255, 255, 255, 0.14);
}

/* Card border animation from 4 corners - outer selection box effect */
.card-border-animated {
  position: relative;
  border-radius: 8px;
  overflow: visible;
}

.card-border-animated .ant-card-body {
  position: relative;
}

.card-border-animated::before,
.card-border-animated::after,
.card-border-animated .ant-card-body::before,
.card-border-animated .ant-card-body::after {
  content: "";
  position: absolute;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.25s ease, width 0.25s ease, height 0.25s ease;
  z-index: 1;
  border: 2px solid rgba(0, 0, 0, 0.4);
}

/* Top-left corner - positioned outside */
.card-border-animated::before {
  top: -7px;
  left: -7px;
  width: 0;
  height: 0;
  border-right: none;
  border-bottom: none;
  border-top-left-radius: 8px;
}

/* Bottom-right corner - positioned outside */
.card-border-animated::after {
  bottom: -7px;
  right: -7px;
  width: 0;
  height: 0;
  border-left: none;
  border-top: none;
  border-bottom-right-radius: 8px;
}

/* Top-right corner - positioned outside */
.card-border-animated .ant-card-body::before {
  top: -7px;
  right: -7px;
  width: 0;
  height: 0;
  border-left: none;
  border-bottom: none;
  border-top-right-radius: 8px;
}

/* Bottom-left corner - positioned outside */
.card-border-animated .ant-card-body::after {
  bottom: -7px;
  left: -7px;
  width: 0;
  height: 0;
  border-right: none;
  border-top: none;
  border-bottom-left-radius: 8px;
}

.card-border-animated:hover::before,
.card-border-animated:hover::after,
.card-border-animated:hover .ant-card-body::before,
.card-border-animated:hover .ant-card-body::after {
  opacity: 1;
  width: 26px;
  height: 26px;
}

.dark .card-border-animated::before,
.dark .card-border-animated::after,
.dark .card-border-animated .ant-card-body::before,
.dark .card-border-animated .ant-card-body::after {
  border-color: rgba(255, 255, 255, 0.5);
}

.prose strong {
  @apply font-medium text-neutral-900 dark:text-neutral-100;
}

.prose ul,
.prose ol {
  @apply text-neutral-800 dark:text-neutral-200;
}

.prose li {
  @apply text-neutral-800 dark:text-neutral-200;
}

.prose strong {
  @apply font-medium;
}

.prose ul {
  @apply list-disc pl-6;
}

.prose ol {
  @apply list-decimal pl-6;
}

.prose > :first-child {
  margin-top: 0;
}

.prose > :last-child {
  margin-bottom: 0;
}

/* Morphing Blob Effects */
.blob-container {
  position: relative;
  will-change: transform;
  transform: translateZ(0);
}

.blob-glow {
  filter: blur(40px) drop-shadow(0 0 60px rgba(0, 0, 0, 0.3));
  will-change: filter;
  transform: translateZ(0);
}

.blob-glow-dark {
  filter: blur(40px) drop-shadow(0 0 80px rgba(255, 255, 255, 0.4));
}

.blob-glow-light {
  filter: blur(30px) drop-shadow(0 0 50px rgba(0, 0, 0, 0.2));
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .blob-container,
  .blob-glow {
    animation: none !important;
    transition: none !important;
  }
}

/* Three.js Canvas container */
canvas {
  display: block;
  outline: none;
}

/* GPU acceleration for blob animations */
.blob-svg {
  will-change: d;
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}
